Z80 Macro Assembler ZMA v1.0.16
=====================================================
Programmed by t.hara

  DEFS is DEFINE STRING (default).
  OUTPUT TYPE: BINARY

<< code >>
LINE# |OFFSET|ADDR|MNEMONIC
======+======+====+==================================
     5|      |    |BIOS_CHGMOD = 0x0005F
      |      |    |  Integer symbol [BIOS_CHGMOD] = 95 (0x5f)
------+------+----+----------------------------------
     7|      |    |DEFB 0xFE
      |000000|0000|  FE
------+------+----+----------------------------------
     8|      |    |DEFW START_ADDRESS
      |000001|0001|  10 80
------+------+----+----------------------------------
     9|      |    |DEFW END_ADDRESS
      |000003|0003|  A4 80
------+------+----+----------------------------------
    10|      |    |DEFW START_ADDRESS
      |000005|0005|  10 80
------+------+----+----------------------------------
    11|      |    |ORG 0x8010
------+------+----+----------------------------------
    12|      |    |START_ADDRESS :
      |      |    |  label [START_ADDRESS] address: 0x008010
------+------+----+----------------------------------
    13|      |    |LD [ SAVE_STACK ], SP
      |      |    |  Z80:22cyc R800:8cyc
      |000007|8010|  ED 73 9E 80
------+------+----+----------------------------------
    14|      |    |LD DE, PROGRAM_START
      |      |    |  Z80:11cyc R800:3cyc
      |00000B|8014|  11 1A 80
------+------+----+----------------------------------
    15|      |    |JP PROGRAM_RUN
      |      |    |  Z80:11cyc R800:5cyc
      |00000E|8017|  C3 4B 80
------+------+----+----------------------------------
    16|      |    |PROGRAM_START :
      |      |    |  label [PROGRAM_START] address: 0x00801a
------+------+----+----------------------------------
    17|      |    |LD HL, 1
      |      |    |  Z80:11cyc R800:3cyc
      |000011|801A|  21 01 00
------+------+----+----------------------------------
    18|      |    |LD A, L
      |      |    |  Z80:5cyc R800:2cyc
      |000014|801D|  7D
------+------+----+----------------------------------
    19|      |    |CALL BIOS_CHGMOD
      |      |    |  Z80:18cyc R800:5cyc
      |000015|801E|  CD 5F 00
------+------+----+----------------------------------
    20|      |    |LD HL, STR_0
      |      |    |  Z80:11cyc R800:3cyc
      |000018|8021|  21 76 80
------+------+----+----------------------------------
    21|      |    |PUSH HL
      |      |    |  Z80:12cyc R800:6cyc
      |00001B|8024|  E5
------+------+----+----------------------------------
    22|      |    |CALL PUTS
      |      |    |  Z80:18cyc R800:5cyc
      |00001C|8025|  CD 60 80
------+------+----+----------------------------------
    23|      |    |POP HL
      |      |    |  Z80:11cyc R800:5cyc
      |00001F|8028|  E1
------+------+----+----------------------------------
    24|      |    |CALL FREE_STRING
      |      |    |  Z80:18cyc R800:5cyc
      |000020|8029|  CD 67 80
------+------+----+----------------------------------
    25|      |    |LD HL, STR_1
      |      |    |  Z80:11cyc R800:3cyc
      |000023|802C|  21 84 80
------+------+----+----------------------------------
    26|      |    |CALL PUTS
      |      |    |  Z80:18cyc R800:5cyc
      |000026|802F|  CD 60 80
------+------+----+----------------------------------
    27|      |    |LD HL, STR_2
      |      |    |  Z80:11cyc R800:3cyc
      |000029|8032|  21 87 80
------+------+----+----------------------------------
    28|      |    |PUSH HL
      |      |    |  Z80:12cyc R800:6cyc
      |00002C|8035|  E5
------+------+----+----------------------------------
    29|      |    |CALL PUTS
      |      |    |  Z80:18cyc R800:5cyc
      |00002D|8036|  CD 60 80
------+------+----+----------------------------------
    30|      |    |POP HL
      |      |    |  Z80:11cyc R800:5cyc
      |000030|8039|  E1
------+------+----+----------------------------------
    31|      |    |CALL FREE_STRING
      |      |    |  Z80:18cyc R800:5cyc
      |000031|803A|  CD 67 80
------+------+----+----------------------------------
    32|      |    |LD HL, STR_3
      |      |    |  Z80:11cyc R800:3cyc
      |000034|803D|  21 9B 80
------+------+----+----------------------------------
    33|      |    |CALL PUTS
      |      |    |  Z80:18cyc R800:5cyc
      |000037|8040|  CD 60 80
------+------+----+----------------------------------
    34|      |    |JP PROGRAM_TERMINATION
      |      |    |  Z80:11cyc R800:5cyc
      |00003A|8043|  C3 46 80
------+------+----+----------------------------------
    35|      |    |PROGRAM_TERMINATION :
      |      |    |  label [PROGRAM_TERMINATION] address: 0x008046
------+------+----+----------------------------------
    36|      |    |LD SP, [ SAVE_STACK ]
      |      |    |  Z80:22cyc R800:8cyc
      |00003D|8046|  ED 7B 9E 80
------+------+----+----------------------------------
    37|      |    |RET
      |      |    |  Z80:11cyc R800:5cyc
      |000041|804A|  C9
------+------+----+----------------------------------
    38|      |    |PROGRAM_RUN :
      |      |    |  label [PROGRAM_RUN] address: 0x00804b
------+------+----+----------------------------------
    39|      |    |LD HL, HEAP_START
      |      |    |  Z80:11cyc R800:3cyc
      |000042|804B|  21 A4 80
------+------+----+----------------------------------
    40|      |    |LD [ HEAP_NEXT ], HL
      |      |    |  Z80:17cyc R800:7cyc
      |000045|804E|  22 A0 80
------+------+----+----------------------------------
    41|      |    |LD HL, [ SAVE_STACK ]
      |      |    |  Z80:17cyc R800:7cyc
      |000048|8051|  2A 9E 80
------+------+----+----------------------------------
    42|      |    |LD SP, HL
      |      |    |  Z80:7cyc R800:1cyc
      |00004B|8054|  F9
------+------+----+----------------------------------
    43|      |    |PUSH DE
      |      |    |  Z80:12cyc R800:6cyc
      |00004C|8055|  D5
------+------+----+----------------------------------
    44|      |    |LD DE, 256
      |      |    |  Z80:11cyc R800:3cyc
      |00004D|8056|  11 00 01
------+------+----+----------------------------------
    45|      |    |XOR A, A
      |      |    |  Z80:5cyc R800:1cyc
      |000050|8059|  AF
------+------+----+----------------------------------
    46|      |    |SBC HL, DE
      |      |    |  Z80:17cyc R800:2cyc
      |000051|805A|  ED 52
------+------+----+----------------------------------
    47|      |    |LD [ HEAP_END ], HL
      |      |    |  Z80:17cyc R800:7cyc
      |000053|805C|  22 A2 80
------+------+----+----------------------------------
    48|      |    |RET
      |      |    |  Z80:11cyc R800:5cyc
      |000056|805F|  C9
------+------+----+----------------------------------
    49|      |    |PUTS :
      |      |    |  label [PUTS] address: 0x008060
------+------+----+----------------------------------
    50|      |    |LD B, [ HL ]
      |      |    |  Z80:8cyc R800:4cyc
      |000057|8060|  46
------+------+----+----------------------------------
    51|      |    |_PUTS_LOOP :
      |      |    |  label [_PUTS_LOOP] address: 0x008061
------+------+----+----------------------------------
    52|      |    |INC HL
      |      |    |  Z80:7cyc R800:1cyc
      |000058|8061|  23
------+------+----+----------------------------------
    53|      |    |LD A, [ HL ]
      |      |    |  Z80:8cyc R800:4cyc
      |000059|8062|  7E
------+------+----+----------------------------------
    54|      |    |RST 0x18
      |      |    |  Z80:12cyc R800:6cyc/7cyc
      |00005A|8063|  DF
------+------+----+----------------------------------
    55|      |    |DJNZ _PUTS_LOOP
      |      |    |  Z80:14cyc/9cyc R800:3cyc/2cyc
      |00005B|8064|  10 FB
------+------+----+----------------------------------
    56|      |    |RET
      |      |    |  Z80:11cyc R800:5cyc
      |00005D|8066|  C9
------+------+----+----------------------------------
    57|      |    |FREE_STRING :
      |      |    |  label [FREE_STRING] address: 0x008067
------+------+----+----------------------------------
    58|      |    |PUSH HL
      |      |    |  Z80:12cyc R800:6cyc
      |00005E|8067|  E5
------+------+----+----------------------------------
    59|      |    |LD E, [ HL ]
      |      |    |  Z80:8cyc R800:4cyc
      |00005F|8068|  5E
------+------+----+----------------------------------
    60|      |    |LD D, 0
      |      |    |  Z80:8cyc R800:2cyc
      |000060|8069|  16 00
------+------+----+----------------------------------
    61|      |    |ADD HL, DE
      |      |    |  Z80:12cyc R800:1cyc
      |000062|806B|  19
------+------+----+----------------------------------
    62|      |    |INC HL
      |      |    |  Z80:7cyc R800:1cyc
      |000063|806C|  23
------+------+----+----------------------------------
    63|      |    |INC DE
      |      |    |  Z80:7cyc R800:1cyc
      |000064|806D|  13
------+------+----+----------------------------------
    64|      |    |SBC HL, DE
      |      |    |  Z80:17cyc R800:2cyc
      |000065|806E|  ED 52
------+------+----+----------------------------------
    65|      |    |POP HL
      |      |    |  Z80:11cyc R800:5cyc
      |000067|8070|  E1
------+------+----+----------------------------------
    66|      |    |RET
      |      |    |  Z80:11cyc R800:5cyc
      |000068|8071|  C9
------+------+----+----------------------------------
    67|      |    |LD [ HEAP_NEXT ], HL
      |      |    |  Z80:17cyc R800:7cyc
      |000069|8072|  22 A0 80
------+------+----+----------------------------------
    68|      |    |RET
      |      |    |  Z80:11cyc R800:5cyc
      |00006C|8075|  C9
------+------+----+----------------------------------
    69|      |    |STR_0 :
      |      |    |  label [STR_0] address: 0x008076
------+------+----+----------------------------------
    70|      |    |DEFB 0x0D, 0x48, 0x45, 0x4C, 0x4C, 0x4F, 0x2C, 0x20, 0x57, 0x4F, 0x52, 0x4C, 0x44, 0x21
      |00006D|8076|  0D 48 45 4C 4C 4F 2C 20
      |000075|807E|  57 4F 52 4C 44 21
------+------+----+----------------------------------
    71|      |    |STR_1 :
      |      |    |  label [STR_1] address: 0x008084
------+------+----+----------------------------------
    72|      |    |DEFB 0x02, 0x0D, 0x0A
      |00007B|8084|  02 0D 0A
------+------+----+----------------------------------
    73|      |    |STR_2 :
      |      |    |  label [STR_2] address: 0x008087
------+------+----+----------------------------------
    74|      |    |DEFB 0x13, 0x54, 0x68, 0x69, 0x73, 0x20, 0x69, 0x73, 0x20, 0x4D, 0x53, 0x58, 0x2D, 0x42, 0x41, 0x43, 0x4F, 0x4E, 0x21, 0x21
      |00007E|8087|  13 54 68 69 73 20 69 73
      |000086|808F|  20 4D 53 58 2D 42 41 43
      |00008E|8097|  4F 4E 21 21
------+------+----+----------------------------------
    75|      |    |STR_3 :
      |      |    |  label [STR_3] address: 0x00809b
------+------+----+----------------------------------
    76|      |    |DEFB 0x02, 0x0D, 0x0A
      |000092|809B|  02 0D 0A
------+------+----+----------------------------------
    77|      |    |SAVE_STACK :
      |      |    |  label [SAVE_STACK] address: 0x00809e
------+------+----+----------------------------------
    78|      |    |DEFW 0
      |000095|809E|  00 00
------+------+----+----------------------------------
    79|      |    |HEAP_NEXT :
      |      |    |  label [HEAP_NEXT] address: 0x0080a0
------+------+----+----------------------------------
    80|      |    |DEFW 0
      |000097|80A0|  00 00
------+------+----+----------------------------------
    81|      |    |HEAP_END :
      |      |    |  label [HEAP_END] address: 0x0080a2
------+------+----+----------------------------------
    82|      |    |DEFW 0
      |000099|80A2|  00 00
------+------+----+----------------------------------
    83|      |    |HEAP_START :
      |      |    |  label [HEAP_START] address: 0x0080a4
------+------+----+----------------------------------
    84|      |    |END_ADDRESS :
      |      |    |  label [END_ADDRESS] address: 0x0080a4
------+------+----+----------------------------------
<< label >>
BIOS_CHGMOD ........... 95 ( 0x5f )
END_ADDRESS ........... 32932 ( 0x80a4 )
FREE_STRING ........... 32871 ( 0x8067 )
HEAP_END .............. 32930 ( 0x80a2 )
HEAP_NEXT ............. 32928 ( 0x80a0 )
HEAP_START ............ 32932 ( 0x80a4 )
PROGRAM_RUN ........... 32843 ( 0x804b )
PROGRAM_START ......... 32794 ( 0x801a )
PROGRAM_TERMINATION ... 32838 ( 0x8046 )
PUTS .................. 32864 ( 0x8060 )
SAVE_STACK ............ 32926 ( 0x809e )
START_ADDRESS ......... 32784 ( 0x8010 )
STR_0 ................. 32886 ( 0x8076 )
STR_1 ................. 32900 ( 0x8084 )
STR_2 ................. 32903 ( 0x8087 )
STR_3 ................. 32923 ( 0x809b )
_PUTS_LOOP ............ 32865 ( 0x8061 )
