Z80 Macro Assembler ZMA v1.0.16
=====================================================
Programmed by t.hara

  DEFS is DEFINE STRING (default).
  OUTPUT TYPE: BINARY

<< code >>
LINE# |OFFSET|ADDR|MNEMONIC
======+======+====+==================================
     5|      |    |BIOS_CHGMOD = 0x0005F
      |      |    |  Integer symbol [BIOS_CHGMOD] = 95 (0x5f)
------+------+----+----------------------------------
     7|      |    |DEFB 0xFE
      |000000|0000|  FE
------+------+----+----------------------------------
     8|      |    |DEFW START_ADDRESS
      |000001|0001|  10 80
------+------+----+----------------------------------
     9|      |    |DEFW END_ADDRESS
      |000003|0003|  73 80
------+------+----+----------------------------------
    10|      |    |DEFW START_ADDRESS
      |000005|0005|  10 80
------+------+----+----------------------------------
    11|      |    |ORG 0x8010
------+------+----+----------------------------------
    12|      |    |START_ADDRESS :
      |      |    |  label [START_ADDRESS] address: 0x008010
------+------+----+----------------------------------
    13|      |    |LD [ SAVE_STACK ], SP
      |      |    |  Z80:22cyc R800:8cyc
      |000007|8010|  ED 73 6D 80
------+------+----+----------------------------------
    14|      |    |LD DE, PROGRAM_START
      |      |    |  Z80:11cyc R800:3cyc
      |00000B|8014|  11 1A 80
------+------+----+----------------------------------
    15|      |    |JP PROGRAM_RUN
      |      |    |  Z80:11cyc R800:5cyc
      |00000E|8017|  C3 3A 80
------+------+----+----------------------------------
    16|      |    |PROGRAM_START :
      |      |    |  label [PROGRAM_START] address: 0x00801a
------+------+----+----------------------------------
    17|      |    |LD HL, 1
      |      |    |  Z80:11cyc R800:3cyc
      |000011|801A|  21 01 00
------+------+----+----------------------------------
    18|      |    |LD A, L
      |      |    |  Z80:5cyc R800:2cyc
      |000014|801D|  7D
------+------+----+----------------------------------
    19|      |    |CALL BIOS_CHGMOD
      |      |    |  Z80:18cyc R800:5cyc
      |000015|801E|  CD 5F 00
------+------+----+----------------------------------
    20|      |    |LINE_110 :
      |      |    |  label [LINE_110] address: 0x008021
------+------+----+----------------------------------
    21|      |    |LD HL, STR_0
      |      |    |  Z80:11cyc R800:3cyc
      |000018|8021|  21 65 80
------+------+----+----------------------------------
    22|      |    |PUSH HL
      |      |    |  Z80:12cyc R800:6cyc
      |00001B|8024|  E5
------+------+----+----------------------------------
    23|      |    |CALL PUTS
      |      |    |  Z80:18cyc R800:5cyc
      |00001C|8025|  CD 4F 80
------+------+----+----------------------------------
    24|      |    |POP HL
      |      |    |  Z80:11cyc R800:5cyc
      |00001F|8028|  E1
------+------+----+----------------------------------
    25|      |    |CALL FREE_STRING
      |      |    |  Z80:18cyc R800:5cyc
      |000020|8029|  CD 56 80
------+------+----+----------------------------------
    26|      |    |LD HL, STR_1
      |      |    |  Z80:11cyc R800:3cyc
      |000023|802C|  21 6A 80
------+------+----+----------------------------------
    27|      |    |CALL PUTS
      |      |    |  Z80:18cyc R800:5cyc
      |000026|802F|  CD 4F 80
------+------+----+----------------------------------
    28|      |    |JP LINE_110
      |      |    |  Z80:11cyc R800:5cyc
      |000029|8032|  C3 21 80
------+------+----+----------------------------------
    29|      |    |PROGRAM_TERMINATION :
      |      |    |  label [PROGRAM_TERMINATION] address: 0x008035
------+------+----+----------------------------------
    30|      |    |LD SP, [ SAVE_STACK ]
      |      |    |  Z80:22cyc R800:8cyc
      |00002C|8035|  ED 7B 6D 80
------+------+----+----------------------------------
    31|      |    |RET
      |      |    |  Z80:11cyc R800:5cyc
      |000030|8039|  C9
------+------+----+----------------------------------
    32|      |    |PROGRAM_RUN :
      |      |    |  label [PROGRAM_RUN] address: 0x00803a
------+------+----+----------------------------------
    33|      |    |LD HL, HEAP_START
      |      |    |  Z80:11cyc R800:3cyc
      |000031|803A|  21 73 80
------+------+----+----------------------------------
    34|      |    |LD [ HEAP_NEXT ], HL
      |      |    |  Z80:17cyc R800:7cyc
      |000034|803D|  22 6F 80
------+------+----+----------------------------------
    35|      |    |LD HL, [ SAVE_STACK ]
      |      |    |  Z80:17cyc R800:7cyc
      |000037|8040|  2A 6D 80
------+------+----+----------------------------------
    36|      |    |LD SP, HL
      |      |    |  Z80:7cyc R800:1cyc
      |00003A|8043|  F9
------+------+----+----------------------------------
    37|      |    |PUSH DE
      |      |    |  Z80:12cyc R800:6cyc
      |00003B|8044|  D5
------+------+----+----------------------------------
    38|      |    |LD DE, 256
      |      |    |  Z80:11cyc R800:3cyc
      |00003C|8045|  11 00 01
------+------+----+----------------------------------
    39|      |    |XOR A, A
      |      |    |  Z80:5cyc R800:1cyc
      |00003F|8048|  AF
------+------+----+----------------------------------
    40|      |    |SBC HL, DE
      |      |    |  Z80:17cyc R800:2cyc
      |000040|8049|  ED 52
------+------+----+----------------------------------
    41|      |    |LD [ HEAP_END ], HL
      |      |    |  Z80:17cyc R800:7cyc
      |000042|804B|  22 71 80
------+------+----+----------------------------------
    42|      |    |RET
      |      |    |  Z80:11cyc R800:5cyc
      |000045|804E|  C9
------+------+----+----------------------------------
    43|      |    |PUTS :
      |      |    |  label [PUTS] address: 0x00804f
------+------+----+----------------------------------
    44|      |    |LD B, [ HL ]
      |      |    |  Z80:8cyc R800:4cyc
      |000046|804F|  46
------+------+----+----------------------------------
    45|      |    |_PUTS_LOOP :
      |      |    |  label [_PUTS_LOOP] address: 0x008050
------+------+----+----------------------------------
    46|      |    |INC HL
      |      |    |  Z80:7cyc R800:1cyc
      |000047|8050|  23
------+------+----+----------------------------------
    47|      |    |LD A, [ HL ]
      |      |    |  Z80:8cyc R800:4cyc
      |000048|8051|  7E
------+------+----+----------------------------------
    48|      |    |RST 0x18
      |      |    |  Z80:12cyc R800:6cyc/7cyc
      |000049|8052|  DF
------+------+----+----------------------------------
    49|      |    |DJNZ _PUTS_LOOP
      |      |    |  Z80:14cyc/9cyc R800:3cyc/2cyc
      |00004A|8053|  10 FB
------+------+----+----------------------------------
    50|      |    |RET
      |      |    |  Z80:11cyc R800:5cyc
      |00004C|8055|  C9
------+------+----+----------------------------------
    51|      |    |FREE_STRING :
      |      |    |  label [FREE_STRING] address: 0x008056
------+------+----+----------------------------------
    52|      |    |PUSH HL
      |      |    |  Z80:12cyc R800:6cyc
      |00004D|8056|  E5
------+------+----+----------------------------------
    53|      |    |LD E, [ HL ]
      |      |    |  Z80:8cyc R800:4cyc
      |00004E|8057|  5E
------+------+----+----------------------------------
    54|      |    |LD D, 0
      |      |    |  Z80:8cyc R800:2cyc
      |00004F|8058|  16 00
------+------+----+----------------------------------
    55|      |    |ADD HL, DE
      |      |    |  Z80:12cyc R800:1cyc
      |000051|805A|  19
------+------+----+----------------------------------
    56|      |    |INC HL
      |      |    |  Z80:7cyc R800:1cyc
      |000052|805B|  23
------+------+----+----------------------------------
    57|      |    |INC DE
      |      |    |  Z80:7cyc R800:1cyc
      |000053|805C|  13
------+------+----+----------------------------------
    58|      |    |SBC HL, DE
      |      |    |  Z80:17cyc R800:2cyc
      |000054|805D|  ED 52
------+------+----+----------------------------------
    59|      |    |POP HL
      |      |    |  Z80:11cyc R800:5cyc
      |000056|805F|  E1
------+------+----+----------------------------------
    60|      |    |RET
      |      |    |  Z80:11cyc R800:5cyc
      |000057|8060|  C9
------+------+----+----------------------------------
    61|      |    |LD [ HEAP_NEXT ], HL
      |      |    |  Z80:17cyc R800:7cyc
      |000058|8061|  22 6F 80
------+------+----+----------------------------------
    62|      |    |RET
      |      |    |  Z80:11cyc R800:5cyc
      |00005B|8064|  C9
------+------+----+----------------------------------
    63|      |    |STR_0 :
      |      |    |  label [STR_0] address: 0x008065
------+------+----+----------------------------------
    64|      |    |DEFB 0x04, 0x4D, 0x4F, 0x4A, 0x49
      |00005C|8065|  04 4D 4F 4A 49
------+------+----+----------------------------------
    65|      |    |STR_1 :
      |      |    |  label [STR_1] address: 0x00806a
------+------+----+----------------------------------
    66|      |    |DEFB 0x02, 0x0D, 0x0A
      |000061|806A|  02 0D 0A
------+------+----+----------------------------------
    67|      |    |SAVE_STACK :
      |      |    |  label [SAVE_STACK] address: 0x00806d
------+------+----+----------------------------------
    68|      |    |DEFW 0
      |000064|806D|  00 00
------+------+----+----------------------------------
    69|      |    |HEAP_NEXT :
      |      |    |  label [HEAP_NEXT] address: 0x00806f
------+------+----+----------------------------------
    70|      |    |DEFW 0
      |000066|806F|  00 00
------+------+----+----------------------------------
    71|      |    |HEAP_END :
      |      |    |  label [HEAP_END] address: 0x008071
------+------+----+----------------------------------
    72|      |    |DEFW 0
      |000068|8071|  00 00
------+------+----+----------------------------------
    73|      |    |HEAP_START :
      |      |    |  label [HEAP_START] address: 0x008073
------+------+----+----------------------------------
    74|      |    |END_ADDRESS :
      |      |    |  label [END_ADDRESS] address: 0x008073
------+------+----+----------------------------------
<< label >>
BIOS_CHGMOD ........... 95 ( 0x5f )
END_ADDRESS ........... 32883 ( 0x8073 )
FREE_STRING ........... 32854 ( 0x8056 )
HEAP_END .............. 32881 ( 0x8071 )
HEAP_NEXT ............. 32879 ( 0x806f )
HEAP_START ............ 32883 ( 0x8073 )
LINE_110 .............. 32801 ( 0x8021 )
PROGRAM_RUN ........... 32826 ( 0x803a )
PROGRAM_START ......... 32794 ( 0x801a )
PROGRAM_TERMINATION ... 32821 ( 0x8035 )
PUTS .................. 32847 ( 0x804f )
SAVE_STACK ............ 32877 ( 0x806d )
START_ADDRESS ......... 32784 ( 0x8010 )
STR_0 ................. 32869 ( 0x8065 )
STR_1 ................. 32874 ( 0x806a )
_PUTS_LOOP ............ 32848 ( 0x8050 )
